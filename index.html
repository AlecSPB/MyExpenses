---
---
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<script type="text/javascript">
<!--
if (!Array.prototype.indexOf) {
    Array.prototype.indexOf = function (searchElement /*, fromIndex */ ) {
        "use strict";
        if (this == null) {
            throw new TypeError();
        }
        var t = Object(this);
        var len = t.length >>> 0;
        if (len === 0) {
            return -1;
        }
        var n = 0;
        if (arguments.length > 1) {
            n = Number(arguments[1]);
            if (n != n) { // shortcut for verifying if it's NaN
                n = 0;
            } else if (n != 0 && n != Infinity && n != -Infinity) {
                n = (n > 0 || -1) * Math.floor(Math.abs(n));
            }
        }
        if (n >= len) {
            return -1;
        }
        var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);
        for (; k < len; k++) {
            if (k in t && t[k] === searchElement) {
                return k;
            }
        }
        return -1;
    }
}
function getURLParameter(name) {
  return decodeURI(
    (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,''])[1]
   );
}
function findDestination() {
  var  userLang = (getURLParameter("lang") || window.navigator.userLanguage || window.navigator.language).substring(0,2);
  var hash = window.location.hash != "" ? window.location.hash.substring(1) : "";
  var path;
  var translations = new Array();
  switch (hash) {
  {% for section in site.sections %}
    case "{{section[0]}}":
      path = "/{{section[1].url}}"
      translations = [{% for title in section[1].title %}"{{title[0]}}"{% unless forloop.last %},{% endunless %}{% endfor %}];
      break;
      {% for tag in section[1].tags %}
      case "{{tag}}":
        path = "/{{section[1].url}}#{{tag}}"
        translations = [{% for title in section[1].title %}"{{title[0]}}"{% unless forloop.last %},{% endunless %}{% endfor %}];
        break;
      {% endfor %}
  {% endfor %}
    case "tutorial_r4":
      path = "/tutorial_r4/introduction.xhtml"
      translations = ["en","fr","de","it","es"];
      break;
    case "paypal":
      return "https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KPXNZHMXJE8ZJ";
    case "flattr":
      return "https://flattr.com/thing/1028216/My-Expenses-GPL-licenced-Android-Expense-Tracking-App";
    default:
      path = ""
      translations = ["en","de","fr","it","es"];
  }
  var lang = translations.indexOf(userLang) > -1 ? userLang : "en";
  return "http://" + window.location.host + "/" + lang + path;
}
window.location.href=findDestination();
//-->
</script>
</head>
<body>
<noscript>
<ul>
{% for title in site.title %}
    <li><a href="{{title[0]}}">{{title[1]}}</a></li>
{% endfor %}
</ul>
</noscript> 
</body>


